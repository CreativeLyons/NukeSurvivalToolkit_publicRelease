BackdropNode {
 inputs 0
 name BackdropNode1
 tile_color 0x7171c600
 label "Cam/Axis setup. \nDeep compatible!"
 note_font "Verdana Bold Italic Bold Italic"
 note_font_size 80
 selected true
 xpos -2908
 ypos -539
 bdwidth 1592
 bdheight 1334
}
BackdropNode {
 inputs 0
 name BackdropNode2
 tile_color 0x8e8e3800
 label "2D Setup"
 note_font_size 80
 selected true
 xpos -3529
 ypos -534
 bdwidth 428
 bdheight 366
}
push $cut_paste_input
Camera2 {
 translate {{curve x1001 930 x1098 524.2270508 x1200 9.730261803} {curve x1001 520 x1098 895.1622314 x1200 1183.430542} {curve x1001 3504 x1098 1449.996826 x1200 1276.928467}}
 rotate {{curve x1001 4.3 x1098 19.60003662 x1200 9.119994164} {curve x1001 30.2 x1098 84.99999237 x1200 132.1900024} {curve x1001 0 x1098 -3.398572801e-07 x1200 -8.647048162e-07}}
 focal 24
 haperture 36
 vaperture 24
 near 1
 far 100000
 name Camera1
 selected true
 xpos -2521
 ypos -35
}
Dot {
 name Dot3
 selected true
 xpos -2497
 ypos 85
}
set N4aa30170 [stack 0]
Dot {
 name Dot4
 selected true
 xpos -2135
 ypos 85
}
set N49cf22b0 [stack 0]
Dot {
 name Dot2
 selected true
 xpos -2135
 ypos 253
}
set N49c97eb0 [stack 0]
RotoPaint {
 inputs 0
 curves {{{v x3f99999a}
  {f 0}
  {n
   {layer Root
    {f 2097152}
    {t x44700000 x44070000}
    {a pt1x 0 pt1y 0 pt2x 0 pt2y 0 pt3x 0 pt3y 0 pt4x 0 pt4y 0 ptex00 0 ptex01 0 ptex02 0 ptex03 0 ptex10 0 ptex11 0 ptex12 0 ptex13 0 ptex20 0 ptex21 0 ptex22 0 ptex23 0 ptex30 0 ptex31 0 ptex32 0 ptex33 0 ptof1x 0 ptof1y 0 ptof2x 0 ptof2y 0 ptof3x 0 ptof3y 0 ptof4x 0 ptof4y 0 pterr 0 ptrefset 0 ptmot x40800000 ptref 0}
    {cubiccurve Brush3 512 catmullrom
     {cc
      {f 2080}
      {px x4494e000
       {x41b00000 x43dc0000 1}
       {x41c80000 x43dc0000 1}
       {x42100000 x43dc0000 1}
       {x427c0000 x43dc0000 1}
       {x42dc0000 x43da8000 1}
       {x43320000 x43d90000 1}
       {x437a0000 x43d58000 1}
       {x439f0000 x43d58000 1}
       {x43ce8000 x43d58000 1}
       {x43f58000 x43d58000 1}
       {x4405c000 x43d58000 1}
       {x44110000 x43d58000 1}
       {x44210000 x43d58000 1}
       {x44330000 x43d38000 1}
       {x4444c000 x43d38000 1}
       {x44518000 x43d38000 1}
       {x445e4000 x43d38000 1}
       {x44688000 x43d38000 1}
       {x44744000 x43d38000 1}
       {x4481e000 x43d38000 1}
       {x44862000 x43d38000 1}
       {x44868000 x43d38000 1}
       {x4486e000 x43d38000 1}
       {x448ce000 x43d38000 1}
       {x4493a000 x43d38000 1}
       {x44942000 x43d38000 1}
       {x449a8000 x43d38000 1}
       {x44a06000 x43d38000 1}
       {x44a82000 x43d38000 1}
       {x44b02000 x43d38000 1}
       {x44b62000 x43d38000 1}
       {x44bac000 x43d38000 1}
       {x44c12000 x43d38000 1}
       {x44c8c000 x43d38000 1}
       {x44cfa000 x43d38000 1}
       {x44d74000 x43d38000 1}
       {x44df6000 x43d58000 1}
       {x44dfc000 x43d58000 1}
       {x44e68000 x43d58000 1}
       {x44ec8000 x43d58000 1}
       {x44ece000 x43d58000 1}
       {x44f12000 x43d58000 1}
       {x44f50000 x43d58000 1}
       {x44f94000 x43d58000 1}
       {x44fbc000 x43d58000 1}
       {x44fd2000 x43d58000 1}}}
     {tx x4494e000 x448917a7 x43d54000}
     {a r x3e99999a g x3dd29ebb b x3bc8a0e7 ro 0 go 0 bo 0 ao 0 bs x4402c000 bu 1 str 1 spx x44700000 spy x44070000 sb 1 ltn x447a4000 ltm x447a4000 tt x41880000}}
    {cubiccurve Brush2 512 catmullrom
     {cc
      {f 2080}
      {px x4494e000
       {x41980000 x43700000 1}
       {x41e80000 x436c0000 1}
       {x42000000 x43690000 1}
       {x42a00000 x43620000 1}
       {x433d0000 x43550000 1}
       {x439d0000 x43510000 1}
       {x43fc8000 x43510000 1}
       {x4438c000 x43510000 1}
       {x443b8000 x43510000 1}
       {x447cc000 x43580000 1}
       {x44a4a000 x435b0000 1}
       {x44b5a000 x435b0000 1}
       {x44b7c000 x435b0000 1}
       {x44d14000 x43580000 1}
       {x44d88000 x43580000 1}
       {x44d82000 x43580000 1}
       {x44d74000 x43580000 1}
       {x44cde000 x43510000 1}
       {x44a88000 x434e0000 1}
       {x44304000 x43400000 1}
       {xc1000000 x431e0000 1}
       {xc405c000 x42e40000 1}
       {xc4484000 x429a0000 1}
       {xc4524000 x428c0000 1}
       {xc44f0000 x428c0000 1}
       {xc4440000 x428c0000 1}
       {xc42f8000 x428c0000 1}
       {xc40bc000 x428c0000 1}
       {xc3b18000 x428c0000 1}
       {xc2d60000 x42a00000 1}
       {xc2bc0000 x42a00000 1}
       {x43430000 x42b40000 1}
       {x445e4000 x430a0000 1}
       {x44c72000 x43360000 1}
       {x450ee000 x434a0000 1}
       {x452a5000 x434e0000 1}
       {x4532a000 x43470000 1}
       {x45330000 x43400000 1}
       {x4532a000 x43400000 1}
       {x4530e000 x43400000 1}
       {x452d5000 x43400000 1}
       {x45272000 x43390000 1}
       {x45264000 x43390000 1}
       {x451f8000 x432f0000 1}
       {x4514a000 x43250000 1}
       {x45060000 x43170000 1}
       {x44e70000 x43110000 1}
       {x44bf0000 x430d0000 1}
       {x4449c000 x43030000 1}
       {x435b0000 x42d00000 1}
       {x43510000 x42d00000 1}
       {xc2840000 x42a60000 1}
       {xc3030000 x42920000 1}
       {xc30d0000 x42920000 1}
       {xc31b0000 x428c0000 1}
       {xc3250000 x428c0000 1}}}
     {tx x4494e000 x44640c92 x431ee000}
     {a r x3e000080 b 0 ro 0 go 0 bo 0 ao 0 bs x4402c000 bu 1 str 1 spx x44700000 spy x44070000 sb 1 ltn x447a4000 ltm x447a4000 tt x41880000}}
    {cubiccurve Brush1 512 catmullrom
     {cc
      {f 2080}
      {px x4494e000
       {xc2f20000 x4481e000 1}
       {xc2ea0000 x4481e000 1}
       {xc2dc0000 x44816000 1}
       {xc1e80000 x44802000 1}
       {xc1b00000 x44802000 1}
       {x43220000 x447cc000 1}
       {x432c0000 x447cc000 1}
       {x43d88000 x44788000 1}
       {x44138000 x4477c000 1}
       {x4417c000 x4477c000 1}
       {x44374000 x44770000 1}
       {x44832000 x44788000 1}
       {x449d8000 x447a4000 1}
       {x44b38000 x447cc000 1}
       {x44b46000 x447cc000 1}
       {x44c6a000 x447f8000 1}
       {x44d60000 x44810000 1}
       {x44e40000 x44816000 1}
       {x44ef8000 x447f8000 1}
       {x44f50000 x447dc000 1}
       {x44f50000 x447cc000 1}
       {x44f4a000 x447cc000 1}
       {x44f2e000 x447b4000 1}
       {x44e02000 x44770000 1}
       {x44aa4000 x4472c000 1}
       {x44210000 x446a4000 1}
       {xc27c0000 x445ac000 1}
       {xc3eb8000 x44528000 1}
       {xc3ef0000 x44528000 1}
       {xc3fc8000 x44518000 1}
       {xc40bc000 x444fc000 1}
       {xc4078000 x444f0000 1}
       {xc3fa8000 x444e0000 1}
       {xc3d58000 x444d4000 1}
       {xc3c78000 x444c8000 1}
       {xc3950000 x444b8000 1}
       {xc3870000 x444b8000 1}
       {xc3838000 x444b8000 1}
       {xc2e40000 x444a0000 1}
       {xc2980000 x444a0000 1}
       {x42fe0000 x444a0000 1}
       {x44320000 x444d4000 1}
       {x44ad2000 x4450c000 1}
       {x44b02000 x4450c000 1}
       {x44f28000 x44518000 1}
       {x450a7000 x44518000 1}
       {x450e1000 x444fc000 1}
       {x450e1000 x444f0000 1}
       {x450a0000 x444c8000 1}
       {x45041000 x444b8000 1}
       {x44f4a000 x444ac000 1}
       {x44d74000 x444ac000 1}
       {x44d2a000 x444ac000 1}
       {x44b92000 x444c8000 1}
       {x44b62000 x444c8000 1}
       {x44a88000 x444e0000 1}
       {x43dc0000 x44534000 1}
       {xc3540000 x44540000 1}
       {xc3730000 x44540000 1}
       {xc4154000 x444fc000 1}
       {xc41cc000 x444f0000 1}
       {xc41cc000 x444e0000 1}
       {xc40f4000 x444d4000 1}
       {xc3b68000 x444ac000 1}
       {xc3b00000 x444ac000 1}
       {xc39d8000 x444a0000 1}
       {xc33d0000 x44490000 1}
       {x42100000 x44490000 1}
       {x43a78000 x444a0000 1}
       {x4461c000 x444a0000 1}
       {x44bb4000 x44468000 1}
       {x44e62000 x44430000 1}
       {x44f86000 x443fc000 1}
       {x44fc4000 x443e0000 1}
       {x44fd2000 x443d0000 1}
       {x45022000 x44380000 1}
       {x45033000 x44364000 1}
       {x45011000 x44364000 1}
       {x44d36000 x44374000 1}
       {x445e4000 x44374000 1}
       {x43c10000 x4433c000 1}
       {x43ba0000 x44330000 1}
       {x41980000 x442f8000 1}
       {xc2a60000 x442dc000 1}
       {xc2dc0000 x442dc000 1}
       {xc3030000 x442dc000 1}
       {xc34a0000 x442f8000 1}
       {xc3580000 x442f8000 1}
       {xc3540000 x442f8000 1}
       {xc3510000 x442f8000 1}
       {xc34a0000 x442f8000 1}
       {xc33d0000 x442ec000 1}
       {xc2b40000 x442d0000 1}
       {x43820000 x44298000 1}
       {x444ac000 x4427c000 1}
       {x444e0000 x4427c000 1}
       {x44a66000 x442a8000 1}
       {x44d36000 x442a8000 1}
       {x44e5c000 x44298000 1}
       {x44e70000 x4428c000 1}}}
     {tx x4494e000 x44319333 x44519148}
     {a r x3ea96ec8 g x3f24a226 ro 0 go 0 bo 0 ao 0 bs x4402c000 bu 1 str 1 spx x44700000 spy x44070000 sb 1 ltn x447a4000 ltm x447a4000 tt x41880000}}}}}}
 toolbox {brush {
  { selectAll r 0.3 g 0.102842 b 0.0061227 bs 523 str 1 ssx 1 ssy 1 sf 1 }
  { createBezier str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createBezierCusped str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createBSpline str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createEllipse str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createRectangle str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createRectangleCusped str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { brush r 0.3 g 0.102842 b 0.0061227 bs 523 str 1 ssx 1 ssy 1 sf 1 sb 1 ltn 1191 ltm 1191 tt 17 }
  { eraser src 2 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { clone src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { reveal src 3 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { dodge src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { burn src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { blur src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { sharpen src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { smear src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
} }
 toolbar_paint_color {0.3000000119 0.1028420031 0.006122699939 1}
 toolbar_brush_size 523
 toolbar_brush_hardness 0.200000003
 toolbar_lifetime_type single
 toolbar_lifetime_start 1191
 toolbar_lifetime_end 1191
 toolbar_source_transform_scale {1 1}
 toolbar_source_transform_center {960 540}
 color {0.3000000119 0.1028418168 0.006122696679 1}
 colorOverlay {0 0 0 0}
 lifetime_type "all frames"
 lifetime_start 1001
 lifetime_end 1001
 brush_size 523
 brush_spacing 0.05000000075
 brush_hardness 0.200000003
 source_black_outside true
 name RotoPaint1
 tile_color 0xff
 selected true
 xpos -1541
 ypos -111
}
Sphere {
 translate {57.00060513 560.261795 1277.047357}
 scaling {1 0.6 1}
 uniform_scale 9000
 name Sphere1
 tile_color 0xff
 selected true
 xpos -1541
 ypos 81
}
push $N49cf22b0
CheckerBoard2 {
 inputs 0
 boxsize {120 60}
 name CheckerBoard2
 selected true
 xpos -2193
 ypos -288
 postage_stamp false
}
Card2 {
 rows 1
 columns 1
 rotate {90 0 0}
 scaling {6 24 1}
 uniform_scale 2000
 control_points {3 3 3 6

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0}
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0}
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0}
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0}
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0}
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0}
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0}
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0}
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
 name Card1
 tile_color 0xff
 selected true
 xpos -2193
 ypos -114
}
CheckerBoard2 {
 inputs 0
 boxsize {130 108}
 centerlinewidth 0
 name CheckerBoard1
 selected true
 xpos -1981
 ypos -291
 postage_stamp false
}
Reflection {
 reflection_value 0.1
 name Reflection1
 tile_color 0xff
 selected true
 xpos -1981
 ypos -207
}
set N34df3520 [stack 0]
Cube {
 translate {-368 465 166}
 scaling {0.5 1 1}
 uniform_scale 1000
 name Cube3
 tile_color 0xff
 selected true
 xpos -2089
 ypos -111
}
push $N34df3520
Cube {
 rows 1
 columns 1
 separate_faces false
 translate {-700 504 2040}
 scaling {0.6 0.7 0.7}
 uniform_scale 2000
 name Cube1
 tile_color 0xff
 selected true
 xpos -1857
 ypos -116
}
push $N34df3520
Cube {
 rows 1
 columns 1
 translate {-540 332 1010}
 scaling {0.6 0.7 0.7}
 uniform_scale 1000
 name Cube2
 tile_color 0xff
 selected true
 xpos -1981
 ypos -111
}
Scene {
 inputs 6
 display textured+wireframe
 name Scene1
 tile_color 0xff
 selected true
 xpos -1971
 ypos 61
}
set N34de79f0 [stack 0]
push 0
add_layer {reflection reflection.red reflection.green reflection.blue reflection.alpha}
RayRender {
 inputs 3
 output_shader_vectors true
 AOV_Reflection reflection
 name RayRender1
 tile_color 0xff
 selected true
 xpos -1761
 ypos 249
}
set N49e28390 [stack 0]
push $N49e28390
Blur {
 size 55
 maskChannelInput -rgba.alpha
 name Blur1
 tile_color 0xff
 selected true
 xpos -1761
 ypos 291
}
Shuffle {
 in reflection
 name Shuffle1
 label "\[value in] \[ expr \{ \[value out2] == \"none\" ? \" \" : \[concat -> \[value out2]] \}]"
 note_font_size 21
 note_font_color 0xffffffff
 selected true
 xpos -1761
 ypos 355
}
Merge2 {
 inputs 2
 operation plus
 name Merge3
 tile_color 0xff
 selected true
 xpos -1541
 ypos 369
}
Dot {
 name Dot1
 selected true
 xpos -1507
 ypos 469
}
EXPTool {
 mode Stops
 red -1
 green -1
 blue -1
 name Exposure2
 tile_color 0xff
 selected true
 xpos -1761
 ypos 465
}
push $N49c97eb0
push $N34de79f0
push 0
ScanlineRender {
 inputs 3
 conservative_shader_sampling false
 motion_vectors_type distance
 name ScanlineRender1
 selected true
 xpos -1981
 ypos 249
}
DeepRecolor {
 inputs 2
 name DeepRecolor1
 tile_color 0xff
 selected true
 xpos -1981
 ypos 465
}
Axis2 {
 inputs 0
 translate {-92 1202 1345}
 name Axis1
 selected true
 xpos -2851
 ypos 229
}
push $N4aa30170
Group {
 inputs 2
 name Sparky3D
 tile_color 0xbd4600ff
 label "\[if \{\[value ROrP]==false\} \{return \"Render Mode\"\} \{return \"!! PARTICLE MODE !! \\nENABLED\"\}]"
 note_font "Bitstream Vera Sans Bold Bold"
 selected true
 xpos -2531
 ypos 243
 addUserKnob {20 SparkTab l "Sparky Settings"}
 addUserKnob {41 start_frame l "Initial Frame" T SparkEmit.start_frame}
 addUserKnob {7 EmissionRate l "Emission Amount" R 0 100}
 EmissionRate {{curve(((frame-1001)%(1015-1001+1))+1001) K x1001 0 S 400 x1004 0 x1005 12 175 x1008 20 x1012 0 x1015 0}}
 addUserKnob {22 Refresh l "Refresh Sim" T "import random\n\ni = int(nuke.expression('random()')*1000)\nn = nuke.thisNode()\nhs = n\['HiddenSeed'].value()\n\nif hs == i:\n    n\['HiddenSeed'].setValue(hs+1)\nelse :\n    n\['HiddenSeed'].setValue(i)" +STARTLINE}
 addUserKnob {26 text l "" +STARTLINE T "\t\tClick Refresh if modifying values doesn't show any changes."}
 addUserKnob {3 HiddenSeed +INVISIBLE}
 HiddenSeed 816
 addUserKnob {26 ""}
 addUserKnob {26 emittertext l "" +STARTLINE T "Emitter Settings"}
 addUserKnob {13 Direction t "Set the initial velocity applied to the particles. This will orient the sparks in 3D space."}
 Direction {100 50 0}
 addUserKnob {7 MaxLife l "Particle Life" t "Maximum amount of frames the particles will live for." R 10 100}
 MaxLife 60
 addUserKnob {7 LifeRange l "Life Range" t "Randomizes the Life Range of the particles." R 0 2}
 LifeRange 0.75
 addUserKnob {3 seed l "Particle  Seed" t "Randomizes the simulation."}
 seed 123
 addUserKnob {26 ""}
 addUserKnob {7 ParticleSize l "Particle Size" t "Change Particle Size" R 1 5}
 ParticleSize 2
 addUserKnob {7 Explosivity t "Changes how much influence the initial force has on the particles." R 0 100}
 Explosivity 55
 addUserKnob {7 Scatter t "Adds some randomness between particles." R 0 100}
 Scatter 100
 addUserKnob {41 Softness l "Particle Softness" T CustomKnobs.Softness}
 addUserKnob {26 ""}
 addUserKnob {4 ROption l "Render Options" t "Multi Scanline: Output is a ScanlineRender with motionblur enabled. Can be DeepMerged\nVectorBlur: 2D motionblur added post-render. Can get rid of sample issues, but is not Deep compatible." M {"Multi Scanline" VectorBlur "" ""}}
 addUserKnob {41 format l Format T RootFormatSetup.format}
 addUserKnob {14 Overscan R 0 100}
 Overscan 100
 addUserKnob {6 ROrP l "Output As Particles" t "Check this to output Particles instead of a 2D render.\nIt can then be plugged into a 3D scene." +STARTLINE}
 addUserKnob {6 OutputDeep l "Output Deep" t "Warning: Will output in Multi-Scanlinde mode only. Doesn't have any effect if \"Output As Particles is selected\"." -STARTLINE}
 addUserKnob {20 Presets}
 addUserKnob {4 AnimPreset l "Animation Presets" t "None: This wont do anything. Serves as safety to not enable a preset accidentally\nSingle Hit Heavy: Heavy hit with a double pop.\nSingle Hit Light : Light pop of sparks.\nWelding : Expression that will mimic a natural welding feeling.\nWavy : Constant sim with some strong variation in birth rate.\nConstant : Softer variation than the Wavy preset.\nLoopy : Loops the same pop of Sparks." M {None "Single Hit Heavy" "Single Hit Light" Welding Wavy Constant Loopy "" "" "" "" ""}}
 AnimPreset Loopy
 addUserKnob {22 Apply l "Apply Preset" t "    " T "def checkPreset():\n    preset = int(nuke.thisNode()\['AnimPreset'].getValue())\n    print preset\n    if preset ==0:\n        return False\n    else:\n        return preset\n\ndef checkFrame():\n    InitFrame = nuke.getInput(\"Enter Initial Frame\", '1001')\n    if InitFrame:\n        try:\n            InitFrame = int(InitFrame)\n            return InitFrame\n        except ValueError:\n            nuke.message(\"Not a valid frame number\")\n            return False\n\n\nif checkPreset() == False:\n    nuke.ask(\"No preset selected\")\nelse:\n    n=nuke.thisNode()\['EmissionRate']\n    s=int(nuke.thisNode()\['AnimPreset'].getValue())\n    cf=checkFrame()\n    if cf!=False and cf!=None:\n        if s == 1:        \n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setAnimated()\n            sCurve = '\{curve K x%v1 0 S 400 x%v2 0 12 x%v3 175 x%v4 20 0\}'\n            sCurve=sCurve.replace(\"%v1\",str(cf))\n            sCurve=sCurve.replace(\"%v2\",str(cf+3))\n            sCurve=sCurve.replace(\"%v3\",str(cf+6))\n            sCurve=sCurve.replace(\"%v4\",str(cf+12))\n            n.fromScript(sCurve)\n            nuke.message(\"Applied Single Hit Heavy Preset\")\n        elif s == 2:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setAnimated()\n            sCurve = '\{curve K x%v1 0 S 140 x%v2 0\}'\n            sCurve=sCurve.replace(\"%v1\",str(cf))\n            sCurve=sCurve.replace(\"%v2\",str(cf+3))\n            n.fromScript(sCurve)\n            nuke.message(\"Applied Single Hit Light Preset\")\n        elif s == 3:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setExpression(\"max(0,(random(frame+seed)*120*((sin(frame+seed)+1)*0.5)-12))*3\")\n            nuke.message(\"Applied Welding Preset\")\n        elif s == 4:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setExpression(\"random(frame+seed)*120*((sin(frame+seed)+1)*0.5)\")\n            nuke.message(\"Applied Wavy Preset\")\n        elif s == 5:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setExpression(\"random(frame/5+seed)*100+60\")\n            nuke.message(\"Applied Constant Preset\")\n        else:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setAnimated()\n            sCurve = '\{curve(((frame-%v1)%(%v6-%v1+1))+%v1) K x%v1 0 S 400 x%v2 0 x%v3 12 175 x%v4 20 x%v5 0 x%v6 0\}'\n            sCurve=sCurve.replace(\"%v1\",str(cf))\n            sCurve=sCurve.replace(\"%v2\",str(cf+3))\n            sCurve=sCurve.replace(\"%v3\",str(cf+4))\n            sCurve=sCurve.replace(\"%v4\",str(cf+7))\n            sCurve=sCurve.replace(\"%v5\",str(cf+11))\n            sCurve=sCurve.replace(\"%v6\",str(cf+14))\n            n.fromScript(sCurve)\n            nuke.message(\"Applied Loopy Preset\")\n\n" +STARTLINE}
 addUserKnob {20 Advanced l "Advanced Settings"}
 addUserKnob {7 TVelocity l "Transfer Velocity"}
 TVelocity 0.5
 addUserKnob {7 TWindow l "Transfer window" R 0 5}
 TWindow 2
 addUserKnob {7 Spread l "Emission Spread"}
 Spread 0.1
 addUserKnob {26 ""}
 addUserKnob {41 samples l "Scanline Samples" T MultiSampleRender.samples}
 addUserKnob {7 Shutter}
 Shutter 0.5
 addUserKnob {41 shutteroffset l "Shutter Offset" T MultiSampleRender.shutteroffset}
 addUserKnob {41 shuttercustomoffset l "" -STARTLINE T MultiSampleRender.shuttercustomoffset}
 addUserKnob {20 Instructions}
 addUserKnob {26 info l "" +STARTLINE T "Sparky v1.2\n\nEasy to use particle setup for Sparks.\n\nOutputs an image by default, but can be configured to be rendered through a specific Camera or\nto output as particles, which allows you to plug Sparky into a 3D scene.\n\nIf you wish to use the 3D version of this Gizmo, simply plug your Camera and plug an Axis to \nmove and place the sparks where you need them.\n\nFor more information about presets and changelogs, head to the Nukepedia page!"}
}
 BackdropNode {
  inputs 0
  name BackdropNode9
  tile_color 0x557fffff
  label "Welcome Curious Comper!\n\nI hope you'll find answers\nto what you are looking for\ninside here! <img src=\"ParticleBounce.png\">"
  note_font "Bitstream Vera Sans"
  note_font_size 111
  xpos -2486
  ypos -861
  bdwidth 2780
  bdheight 1970
 }
 ColorWheel {
  inputs 0
  format "256 256 0 0 256 256 1 square_256"
  gamma 0.45
  name ColorWheel1
  xpos -1170
  ypos -537
 }
 Saturation {
  saturation 0
  mode Maximum
  name Saturation1
  xpos -1170
  ypos -427
 }
 FilterErode {
  channels all
  size {{abs(parent.CustomKnobs.Softness)}}
  filter gaussian
  name ErodeSoft
  xpos -1170
  ypos -384
 }
 Reformat {
  type scale
  scale 0.125
  resize distort
  black_outside true
  name Reformat2
  xpos -1170
  ypos -325
 }
 Grade {
  white {0.9 0.35 0.085 1}
  name Grade1
  xpos -1170
  ypos -267
 }
 BlendMat {
  operation max
  surfaceblend modulate
  name BlendMat1
  xpos -971
  ypos -267
 }
 Noise {
  inputs 0
  size 750
  zoffset {{frame/5+CustomKnobs.time_offset}}
  octaves 6
  lacunarity 1.45
  gain 0.6
  center {1440 810}
  name Noise6
  xpos -676
  ypos -548
 }
set N49e114c0 [stack 0]
 Sphere {
  name Sphere1
  xpos -770
  ypos -456
 }
push $N49e114c0
 Sphere {
  translate {{parent.input1.translate} {parent.input1.translate} {parent.input1.translate}}
  rotate {{parent.input1.rotate} {parent.input1.rotate} {parent.input1.rotate}}
  scaling {{parent.input1.scaling} {parent.input1.scaling} {parent.input1.scaling}}
  name Sphere2
  xpos -575
  ypos -460
 }
 Switch {
  inputs 2
  which {{"!\[exists parent.input1]"}}
  name Switch3
  xpos -676
  ypos -342
 }
push 0
 ParticleEmitter {
  inputs 3
  start_frame 1001
  emit_from faces
  randomize_type "randomized direction"
  rate {{parent.EmissionRate}}
  rate_variation 0.5
  rate_channel rgba.red
  lifetime {{parent.MaxLife}}
  lifetime_variation {{parent.LifeRange}}
  halflife {{lifetime/2.5}}
  velocity {{"!\[exists parent.input1]?7.5+(10*Explosivity/100):7.5+(10*Explosivity/100)*((parent.input1.uniform_scale-1)*0.25+1)"}}
  velocity_variation {{0.125+abs((min(100,parent.Scatter)*0.035))}}
  size {{"!\[exists parent.input1]?max(0.1,parent.ParticleSize):max(0.01,parent.ParticleSize)*((parent.input1.uniform_scale-1)*0.25+1)"}}
  size_variation 1.6
  mass {{"!\[exists parent.input1]?0.5+(1-(clamp(parent.Explosivity,0,100))/100)*3.5:(0.5+((1-(clamp(parent.Explosivity,0,100))/100)*3.5))*(((parent.input1.uniform_scale-1)*0.25)+1)"}}
  mass_variation {{1.5*(clamp(parent.Scatter,0,100))/100}}
  transfer_velocity {{parent.TVelocity}}
  transfer_window {{parent.TWindow}}
  spread {{parent.Spread}}
  color {0.9 0.35 0.085 1}
  seed {{CustomKnobs.time_offset}}
  name SparkEmit
  xpos -676
  ypos -267
 }
 ParticleDirectionalForce {
  strength {{"parent.Direction*(\[exists parent.input1]?1+(parent.input1.uniform_scale-1)*0.85:1)"} {"parent.Direction*(\[exists parent.input1]?1+(parent.input1.uniform_scale-1)*0.85:1)"} {"parent.Direction*(\[exists parent.input1]?1+(parent.input1.uniform_scale-1)*0.85:1)"}}
  max_age {{1/(max(1,parent.SparkEmit.lifetime*1.25))}}
  name ParticleDirectionalForce
  selected true
  xpos -676
  ypos -120
 }
 ParticleDrag {
  drag 0.6
  name ParticleDrag
  xpos -676
  ypos -36
 }
 ParticleTurbulence {
  strength {2 0.85 4}
  scale {5 10 20}
  name ParticleTurbulence
  xpos -676
  ypos 22
 }
 ParticleDrag {
  drag 0.1
  name ParticleDrag2
  xpos -676
  ypos 86
 }
 ParticleGravity {
  to {0 {"!\[exists parent.input1]?-3:-1-(2*(parent.input1.uniform_scale))"} 0}
  min_age 0.1
  name ParticleGravity
  xpos -676
  ypos 148
 }
 ParticleCurve {
  curves {r {curve L x0.04740819708 1 S l x0.4987964034 0.7955223322 x1 0}
    g {curve L x0.04740819708 1 S l x0.4987964034 0.7955223322 x1 0}
    b {curve L x0.04740819708 1 S l x1 0}
    a {curve L x0.04740819708 1 S l x0.4939824343 0.7353233099 x1 0}
    size {}
    mass {}}
  seed {{HiddenSeed}}
  name FadeOut
  xpos -676
  ypos 201
 }
 ParticleSettings {
  name ParticleSettings1
  xpos -676
  ypos 265
 }
set N37869af0 [stack 0]
 Dot {
  name Dot2
  xpos -924
  ypos 711
 }
 Dot {
  name Dot1
  xpos -924
  ypos 831
 }
 Input {
  inputs 0
  name Camera
  xpos -1457
  ypos 312
 }
 Dot {
  name Dot3
  xpos -1423
  ypos 551
 }
 Camera2 {
  inputs 0
  translate {0 -100 1200}
  focal 20
  haperture 24
  vaperture 13.5
  near 1
  far 1000000
  name Default2DCam
  xpos -1217
  ypos 210
 }
 Switch {
  inputs 2
  which {{"\[exists parent.input0]"}}
  name Switch1
  xpos -1227
  ypos 548
 }
set N37891e70 [stack 0]
push $N37869af0
 Dot {
  name Dot6
  xpos -642
  ypos 516
 }
set N37898940 [stack 0]
 Constant {
  inputs 0
  name Constant1
  xpos -161
  ypos 316
 }
 Reformat {
  resize none
  name RootFormatSetup
  xpos -161
  ypos 406
  addUserKnob {20 User}
  addUserKnob {14 Overscan R 0 100}
  Overscan {{parent.Overscan}}
 }
 Dot {
  name Dot4
  xpos -127
  ypos 551
 }
set N378b0eb0 [stack 0]
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing high
  overscan {{parent.RootFormatSetup.Overscan}}
  spatial_jitter 0.1
  motion_vectors_type velocity
  name NO_Motionblur
  xpos -449
  ypos 548
 }
 VectorBlur2 {
  channels rgba
  uv forward
  alpha -rgba.alpha
  scale 0.5
  motion_falloff 0.65
  offset 0
  grow_bbox 40
  normalize false
  name MBlur
  xpos -448
  ypos 708
 }
push $N37891e70
 Dot {
  name Dot48
  xpos -1192
  ypos 640
 }
push $N37898940
push $N378b0eb0
 Dot {
  name Dot5
  xpos -126
  ypos 640
 }
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing high
  ambient {{parent.RootFormatSetup.Overscan}}
  samples 30
  shutter {{parent.Shutter}}
  spatial_jitter 0.025
  motion_vectors_type velocity
  name MultiSampleRender
  xpos -676
  ypos 637
 }
 Switch {
  inputs 2
  which {{OutputDeep==1?0:ROption}}
  name Switch2
  xpos -677
  ypos 712
 }
 Switch {
  inputs 2
  which {{parent.ROrP}}
  name RorP
  xpos -677
  ypos 827
 }
 Output {
  name Output
  xpos -677
  ypos 1014
 }
 NoOp {
  inputs 0
  name CustomKnobs
  tile_color 0xff9fff
  xpos -90
  ypos -264
  addUserKnob {20 User}
  addUserKnob {7 Softness R 0 100}
  Softness 10
  addUserKnob {3 time_offset l Seed}
  time_offset {{parent.integer}}
 }
 Input {
  inputs 0
  name Axis
  xpos -358
  ypos -541
  number 1
 }
 Dot {
  name Dot7
  xpos -324
  ypos -479
 }
end_group
DeepColorCorrect2 {
 gain 3
 name DeepColorCorrect1
 tile_color 0xff
 selected true
 xpos -2531
 ypos 369
}
DeepMerge {
 inputs 2
 name DeepMerge2
 selected true
 xpos -2531
 ypos 465
}
DeepToImage {
 name DeepToImage2
 selected true
 xpos -2531
 ypos 561
}
NoOp {
 name LookAtMe
 tile_color 0xe955ffff
 note_font "Verdana Bold Italic Bold Italic"
 note_font_size 70
 selected true
 xpos -2531
 ypos 640
}
push $cut_paste_input
Axis2 {
 translate {-100 0 0}
 name Axis2
 selected true
 xpos -3440
 ypos -463
}
push 0
Group {
 inputs 2
 name Sparky2D
 tile_color 0xbd4600ff
 label "\[if \{\[value ROrP]==false\} \{return \"Render Mode\"\} \{return \"!! PARTICLE MODE !! \\nENABLED\"\}]"
 note_font "Bitstream Vera Sans Bold Bold"
 selected true
 xpos -3450
 ypos -361
 addUserKnob {20 SparkTab l "Sparky Settings"}
 addUserKnob {41 start_frame l "Initial Frame" T SparkEmit.start_frame}
 addUserKnob {7 EmissionRate l "Emission Amount" R 0 100}
 EmissionRate {{curve(((frame-1001)%(1015-1001+1))+1001) K x1001 0 S 400 x1004 0 x1005 12 175 x1008 20 x1012 0 x1015 0}}
 addUserKnob {22 Refresh l "Refresh Sim" T "import random\n\ni = int(nuke.expression('random()')*1000)\nn = nuke.thisNode()\nhs = n\['HiddenSeed'].value()\n\nif hs == i:\n    n\['HiddenSeed'].setValue(hs+1)\nelse :\n    n\['HiddenSeed'].setValue(i)" +STARTLINE}
 addUserKnob {26 text l "" +STARTLINE T "\t\tClick Refresh if modifying values doesn't show any changes."}
 addUserKnob {3 HiddenSeed +INVISIBLE}
 HiddenSeed 816
 addUserKnob {26 ""}
 addUserKnob {26 emittertext l "" +STARTLINE T "Emitter Settings"}
 addUserKnob {13 Direction t "Set the initial velocity applied to the particles. This will orient the sparks in 3D space."}
 Direction {200 50 0}
 addUserKnob {7 MaxLife l "Particle Life" t "Maximum amount of frames the particles will live for." R 10 100}
 MaxLife 60
 addUserKnob {7 LifeRange l "Life Range" t "Randomizes the Life Range of the particles." R 0 2}
 LifeRange 0.75
 addUserKnob {3 seed l "Particle  Seed" t "Randomizes the simulation."}
 seed 223
 addUserKnob {26 ""}
 addUserKnob {7 ParticleSize l "Particle Size" t "Change Particle Size" R 1 5}
 ParticleSize 2
 addUserKnob {7 Explosivity t "Changes how much influence the initial force has on the particles." R 0 100}
 Explosivity 55
 addUserKnob {7 Scatter t "Adds some randomness between particles." R 0 100}
 Scatter 100
 addUserKnob {41 Softness l "Particle Softness" T CustomKnobs.Softness}
 addUserKnob {26 ""}
 addUserKnob {4 ROption l "Render Options" t "Multi Scanline: Output is a ScanlineRender with motionblur enabled. Can be DeepMerged\nVectorBlur: 2D motionblur added post-render. Can get rid of sample issues, but is not Deep compatible." M {"Multi Scanline" VectorBlur "" ""}}
 addUserKnob {41 format l Format T RootFormatSetup.format}
 addUserKnob {14 Overscan R 0 100}
 Overscan 100
 addUserKnob {6 ROrP l "Output As Particles" t "Check this to output Particles instead of a 2D render.\nIt can then be plugged into a 3D scene." +STARTLINE}
 addUserKnob {6 OutputDeep l "Output Deep" t "Warning: Will output in Multi-Scanlinde mode only. Doesn't have any effect if \"Output As Particles is selected\"." -STARTLINE}
 addUserKnob {20 Presets}
 addUserKnob {4 AnimPreset l "Animation Presets" t "None: This wont do anything. Serves as safety to not enable a preset accidentally\nSingle Hit Heavy: Heavy hit with a double pop.\nSingle Hit Light : Light pop of sparks.\nWelding : Expression that will mimic a natural welding feeling.\nWavy : Constant sim with some strong variation in birth rate.\nConstant : Softer variation than the Wavy preset.\nLoopy : Loops the same pop of Sparks." M {None "Single Hit Heavy" "Single Hit Light" Welding Wavy Constant Loopy "" "" "" "" ""}}
 AnimPreset Loopy
 addUserKnob {22 Apply l "Apply Preset" t "    " T "def checkPreset():\n    preset = int(nuke.thisNode()\['AnimPreset'].getValue())\n    print preset\n    if preset ==0:\n        return False\n    else:\n        return preset\n\ndef checkFrame():\n    InitFrame = nuke.getInput(\"Enter Initial Frame\", '1001')\n    if InitFrame:\n        try:\n            InitFrame = int(InitFrame)\n            return InitFrame\n        except ValueError:\n            nuke.message(\"Not a valid frame number\")\n            return False\n\n\nif checkPreset() == False:\n    nuke.ask(\"No preset selected\")\nelse:\n    n=nuke.thisNode()\['EmissionRate']\n    s=int(nuke.thisNode()\['AnimPreset'].getValue())\n    cf=checkFrame()\n    if cf!=False and cf!=None:\n        if s == 1:        \n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setAnimated()\n            sCurve = '\{curve K x%v1 0 S 400 x%v2 0 12 x%v3 175 x%v4 20 0\}'\n            sCurve=sCurve.replace(\"%v1\",str(cf))\n            sCurve=sCurve.replace(\"%v2\",str(cf+3))\n            sCurve=sCurve.replace(\"%v3\",str(cf+6))\n            sCurve=sCurve.replace(\"%v4\",str(cf+12))\n            n.fromScript(sCurve)\n            nuke.message(\"Applied Single Hit Heavy Preset\")\n        elif s == 2:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setAnimated()\n            sCurve = '\{curve K x%v1 0 S 140 x%v2 0\}'\n            sCurve=sCurve.replace(\"%v1\",str(cf))\n            sCurve=sCurve.replace(\"%v2\",str(cf+3))\n            n.fromScript(sCurve)\n            nuke.message(\"Applied Single Hit Light Preset\")\n        elif s == 3:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setExpression(\"max(0,(random(frame+seed)*120*((sin(frame+seed)+1)*0.5)-12))*3\")\n            nuke.message(\"Applied Welding Preset\")\n        elif s == 4:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setExpression(\"random(frame+seed)*120*((sin(frame+seed)+1)*0.5)\")\n            nuke.message(\"Applied Wavy Preset\")\n        elif s == 5:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setExpression(\"random(frame/5+seed)*100+60\")\n            nuke.message(\"Applied Constant Preset\")\n        else:\n            print \"Initial frame is x\" + str(cf)\n            nuke.thisNode()\['start_frame'].setValue(cf)\n            n.clearAnimated()\n            n.setAnimated()\n            sCurve = '\{curve(((frame-%v1)%(%v6-%v1+1))+%v1) K x%v1 0 S 400 x%v2 0 x%v3 12 175 x%v4 20 x%v5 0 x%v6 0\}'\n            sCurve=sCurve.replace(\"%v1\",str(cf))\n            sCurve=sCurve.replace(\"%v2\",str(cf+3))\n            sCurve=sCurve.replace(\"%v3\",str(cf+4))\n            sCurve=sCurve.replace(\"%v4\",str(cf+7))\n            sCurve=sCurve.replace(\"%v5\",str(cf+11))\n            sCurve=sCurve.replace(\"%v6\",str(cf+14))\n            n.fromScript(sCurve)\n            nuke.message(\"Applied Loopy Preset\")\n\n" +STARTLINE}
 addUserKnob {20 Advanced l "Advanced Settings"}
 addUserKnob {7 TVelocity l "Transfer Velocity"}
 TVelocity 0.5
 addUserKnob {7 TWindow l "Transfer window" R 0 5}
 TWindow 2
 addUserKnob {7 Spread l "Emission Spread"}
 Spread 0.1
 addUserKnob {26 ""}
 addUserKnob {41 samples l "Scanline Samples" T MultiSampleRender.samples}
 addUserKnob {7 Shutter}
 Shutter 0.5
 addUserKnob {41 shutteroffset l "Shutter Offset" T MultiSampleRender.shutteroffset}
 addUserKnob {41 shuttercustomoffset l "" -STARTLINE T MultiSampleRender.shuttercustomoffset}
 addUserKnob {20 Instructions}
 addUserKnob {26 info l "" +STARTLINE T "Sparky v1.2\n\nEasy to use particle setup for Sparks.\n\nOutputs an image by default, but can be configured to be rendered through a specific Camera or\nto output as particles, which allows you to plug Sparky into a 3D scene.\n\nIf you wish to use the 3D version of this Gizmo, simply plug your Camera and plug an Axis to \nmove and place the sparks where you need them.\n\nFor more information about presets and changelogs, head to the Nukepedia page!"}
}
 BackdropNode {
  inputs 0
  name BackdropNode9
  tile_color 0x557fffff
  label "Welcome Curious Comper!\n\nI hope you'll find answers\nto what you are looking for\ninside here! <img src=\"ParticleBounce.png\">"
  note_font "Bitstream Vera Sans"
  note_font_size 111
  xpos -2486
  ypos -861
  bdwidth 2780
  bdheight 1970
 }
 ColorWheel {
  inputs 0
  format "256 256 0 0 256 256 1 square_256"
  gamma 0.45
  name ColorWheel1
  xpos -1170
  ypos -537
 }
 Saturation {
  saturation 0
  mode Maximum
  name Saturation1
  xpos -1170
  ypos -427
 }
 FilterErode {
  channels all
  size {{abs(parent.CustomKnobs.Softness)}}
  filter gaussian
  name ErodeSoft
  xpos -1170
  ypos -384
 }
 Reformat {
  type scale
  scale 0.125
  resize distort
  black_outside true
  name Reformat2
  xpos -1170
  ypos -325
 }
 Grade {
  white {0.9 0.35 0.085 1}
  name Grade1
  xpos -1170
  ypos -267
 }
 BlendMat {
  operation max
  surfaceblend modulate
  name BlendMat1
  xpos -971
  ypos -267
 }
 Noise {
  inputs 0
  size 750
  zoffset {{frame/5+CustomKnobs.time_offset}}
  octaves 6
  lacunarity 1.45
  gain 0.6
  center {1440 810}
  name Noise6
  xpos -676
  ypos -548
 }
set N4aba6030 [stack 0]
 Sphere {
  name Sphere1
  xpos -770
  ypos -456
 }
push $N4aba6030
 Sphere {
  translate {{parent.input1.translate} {parent.input1.translate} {parent.input1.translate}}
  rotate {{parent.input1.rotate} {parent.input1.rotate} {parent.input1.rotate}}
  scaling {{parent.input1.scaling} {parent.input1.scaling} {parent.input1.scaling}}
  name Sphere2
  xpos -575
  ypos -460
 }
 Switch {
  inputs 2
  which {{"!\[exists parent.input1]"}}
  name Switch3
  xpos -676
  ypos -342
 }
push 0
 ParticleEmitter {
  inputs 3
  start_frame 1001
  emit_from faces
  randomize_type "randomized direction"
  rate {{parent.EmissionRate}}
  rate_variation 0.5
  rate_channel rgba.red
  lifetime {{parent.MaxLife}}
  lifetime_variation {{parent.LifeRange}}
  halflife {{lifetime/2.5}}
  velocity {{"!\[exists parent.input1]?7.5+(10*Explosivity/100):7.5+(10*Explosivity/100)*((parent.input1.uniform_scale-1)*0.25+1)"}}
  velocity_variation {{0.125+abs((min(100,parent.Scatter)*0.035))}}
  size {{"!\[exists parent.input1]?max(0.1,parent.ParticleSize):max(0.01,parent.ParticleSize)*((parent.input1.uniform_scale-1)*0.25+1)"}}
  size_variation 1.6
  mass {{"!\[exists parent.input1]?0.5+(1-(clamp(parent.Explosivity,0,100))/100)*3.5:(0.5+((1-(clamp(parent.Explosivity,0,100))/100)*3.5))*(((parent.input1.uniform_scale-1)*0.25)+1)"}}
  mass_variation {{1.5*(clamp(parent.Scatter,0,100))/100}}
  transfer_velocity {{parent.TVelocity}}
  transfer_window {{parent.TWindow}}
  spread {{parent.Spread}}
  color {0.9 0.35 0.085 1}
  seed {{CustomKnobs.time_offset}}
  name SparkEmit
  xpos -676
  ypos -267
 }
 ParticleDirectionalForce {
  strength {{"parent.Direction*(\[exists parent.input1]?1+(parent.input1.uniform_scale-1)*0.85:1)"} {"parent.Direction*(\[exists parent.input1]?1+(parent.input1.uniform_scale-1)*0.85:1)"} {"parent.Direction*(\[exists parent.input1]?1+(parent.input1.uniform_scale-1)*0.85:1)"}}
  max_age {{1/(max(1,parent.SparkEmit.lifetime*1.25))}}
  name ParticleDirectionalForce
  selected true
  xpos -676
  ypos -120
 }
 ParticleDrag {
  drag 0.6
  name ParticleDrag
  xpos -676
  ypos -36
 }
 ParticleTurbulence {
  strength {2 0.85 4}
  scale {5 10 20}
  name ParticleTurbulence
  xpos -676
  ypos 22
 }
 ParticleDrag {
  drag 0.1
  name ParticleDrag2
  xpos -676
  ypos 86
 }
 ParticleGravity {
  to {0 {"!\[exists parent.input1]?-3:-1-(2*(parent.input1.uniform_scale))"} 0}
  min_age 0.1
  name ParticleGravity
  xpos -676
  ypos 148
 }
 ParticleCurve {
  curves {r {curve L x0.04740819708 1 S l x0.4987964034 0.7955223322 x1 0}
    g {curve L x0.04740819708 1 S l x0.4987964034 0.7955223322 x1 0}
    b {curve L x0.04740819708 1 S l x1 0}
    a {curve L x0.04740819708 1 S l x0.4939824343 0.7353233099 x1 0}
    size {}
    mass {}}
  seed {{HiddenSeed}}
  name FadeOut
  xpos -676
  ypos 201
 }
 ParticleSettings {
  name ParticleSettings1
  xpos -676
  ypos 265
 }
set N37cd0d90 [stack 0]
 Dot {
  name Dot2
  xpos -924
  ypos 711
 }
 Dot {
  name Dot1
  xpos -924
  ypos 831
 }
 Input {
  inputs 0
  name Camera
  xpos -1457
  ypos 312
 }
 Dot {
  name Dot3
  xpos -1423
  ypos 551
 }
 Camera2 {
  inputs 0
  translate {0 -100 1200}
  focal 20
  haperture 24
  vaperture 13.5
  near 1
  far 1000000
  name Default2DCam
  xpos -1217
  ypos 210
 }
 Switch {
  inputs 2
  which {{"\[exists parent.input0]"}}
  name Switch1
  xpos -1227
  ypos 548
 }
set N37cf9110 [stack 0]
push $N37cd0d90
 Dot {
  name Dot6
  xpos -642
  ypos 516
 }
set N37d03b60 [stack 0]
 Constant {
  inputs 0
  name Constant1
  xpos -161
  ypos 316
 }
 Reformat {
  resize none
  name RootFormatSetup
  xpos -161
  ypos 406
  addUserKnob {20 User}
  addUserKnob {14 Overscan R 0 100}
  Overscan {{parent.Overscan}}
 }
 Dot {
  name Dot4
  xpos -127
  ypos 551
 }
set N37d1c0d0 [stack 0]
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing high
  overscan {{parent.RootFormatSetup.Overscan}}
  spatial_jitter 0.1
  motion_vectors_type velocity
  name NO_Motionblur
  xpos -449
  ypos 548
 }
 VectorBlur2 {
  channels rgba
  uv forward
  alpha -rgba.alpha
  scale 0.5
  motion_falloff 0.65
  offset 0
  grow_bbox 40
  normalize false
  name MBlur
  xpos -448
  ypos 708
 }
push $N37cf9110
 Dot {
  name Dot48
  xpos -1192
  ypos 640
 }
push $N37d03b60
push $N37d1c0d0
 Dot {
  name Dot5
  xpos -126
  ypos 640
 }
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing high
  ambient {{parent.RootFormatSetup.Overscan}}
  samples 30
  shutter {{parent.Shutter}}
  spatial_jitter 0.025
  motion_vectors_type velocity
  name MultiSampleRender
  xpos -676
  ypos 637
 }
 Switch {
  inputs 2
  which {{OutputDeep==1?0:ROption}}
  name Switch2
  xpos -677
  ypos 712
 }
 Switch {
  inputs 2
  which {{parent.ROrP}}
  name RorP
  xpos -677
  ypos 827
 }
 Output {
  name Output
  xpos -677
  ypos 1014
 }
 NoOp {
  inputs 0
  name CustomKnobs
  tile_color 0xff9fff
  xpos -90
  ypos -264
  addUserKnob {20 User}
  addUserKnob {7 Softness R 0 100}
  Softness 10
  addUserKnob {3 time_offset l Seed}
  time_offset {{parent.integer}}
 }
 Input {
  inputs 0
  name Axis
  xpos -358
  ypos -541
  number 1
 }
 Dot {
  name Dot7
  xpos -324
  ypos -479
 }
end_group
Grade {
 white 2
 name Grade1
 selected true
 xpos -3450
 ypos -286
}
Glow2 {
 brightness 3
 size 3
 name Glow1
 selected true
 xpos -3450
 ypos -229
}
CheckerBoard2 {
 inputs 0
 name CheckerBoard3
 selected true
 xpos -3244
 ypos -385
}
Grade {
 white 0.125
 name Grade2
 selected true
 xpos -3244
 ypos -313
}
Merge2 {
 inputs 2
 name Merge1
 selected true
 xpos -3244
 ypos -229
}
